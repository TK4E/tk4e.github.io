<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js ayu">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title></title>
                <meta name="robots" content="noindex" />
                

        <!-- Custom HTML head -->
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

                <link rel="icon" href="favicon.svg">
                        <link rel="shortcut icon" href="favicon.png">
                <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
                <link rel="stylesheet" href="css/print.css" media="print">
        
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
                <link rel="stylesheet" href="fonts/fonts.css">
        
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        
            </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "ayu" : "ayu";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('ayu')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item affix "><a href="SUMMARY.html">SUMMARY.md</a></li><li class="chapter-item "><a href="Linux/#-Linux.html"><strong aria-hidden="true">1.</strong> #-Linux.md</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="Linux/Arch/#-Arch.html"><strong aria-hidden="true">1.1.</strong> #-Arch.md</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="Linux/Arch/01-pacamn/pacman-01.html"><strong aria-hidden="true">1.1.1.</strong> pacman-01.md</a></li><li class="chapter-item "><a href="Linux/Arch/02-zsh/zsh-01.html"><strong aria-hidden="true">1.1.2.</strong> zsh-01.md</a></li><li class="chapter-item "><a href="Linux/Arch/03-nvim/nvim-01.html"><strong aria-hidden="true">1.1.3.</strong> nvim-01.md</a></li><li class="chapter-item "><a href="Linux/Arch/03-nvim/nvim-09.html"><strong aria-hidden="true">1.1.4.</strong> nvim-09.md</a></li><li class="chapter-item "><a href="Linux/Arch/04-SQLite3/sqlite3_example-00.html"><strong aria-hidden="true">1.1.5.</strong> sqlite3_example-00.md</a></li><li class="chapter-item "><a href="Linux/Arch/04-SQLite3/sqlite3_run_sql-01.html"><strong aria-hidden="true">1.1.6.</strong> sqlite3_run_sql-01.md</a></li><li class="chapter-item "><a href="Linux/Arch/05-base/Linux-01.html"><strong aria-hidden="true">1.1.7.</strong> Linux-01.md</a></li><li class="chapter-item "><a href="Linux/Arch/05-base/cut-01.html"><strong aria-hidden="true">1.1.8.</strong> cut-01.md</a></li><li class="chapter-item "><a href="Linux/Arch/05-base/find-01.html"><strong aria-hidden="true">1.1.9.</strong> find-01.md</a></li><li class="chapter-item "><a href="Linux/Arch/05-base/ls-01.html"><strong aria-hidden="true">1.1.10.</strong> ls-01.md</a></li><li class="chapter-item "><a href="Linux/Arch/05-base/read-01.html"><strong aria-hidden="true">1.1.11.</strong> read-01.md</a></li><li class="chapter-item "><a href="Linux/Arch/05-base/rm-01.html"><strong aria-hidden="true">1.1.12.</strong> rm-01.md</a></li><li class="chapter-item "><a href="Linux/Arch/05-base/tail-01.html"><strong aria-hidden="true">1.1.13.</strong> tail-01.md</a></li><li class="chapter-item "><a href="Linux/Arch/05-base/uniq-01.html"><strong aria-hidden="true">1.1.14.</strong> uniq-01.md</a></li><li class="chapter-item "><a href="Linux/Arch/06-tar/tar-01.html"><strong aria-hidden="true">1.1.15.</strong> tar-01.md</a></li><li class="chapter-item "><a href="Linux/Arch/08-Wine/wine-01.html"><strong aria-hidden="true">1.1.16.</strong> wine-01.md</a></li><li class="chapter-item "><a href="Linux/Arch/09-git/git-01.html"><strong aria-hidden="true">1.1.17.</strong> git-01.md</a></li><li class="chapter-item "><a href="Linux/Arch/21-XFS/xfs-01.html"><strong aria-hidden="true">1.1.18.</strong> xfs-01.md</a></li><li class="chapter-item "><a href="Linux/Arch/98-unrar/unrar-01.html"><strong aria-hidden="true">1.1.19.</strong> unrar-01.md</a></li></ol></li><li class="chapter-item "><a href="Linux/Multimedia/#-Multimedia.html"><strong aria-hidden="true">1.2.</strong> #-Multimedia.md</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="Linux/Multimedia/01-FFmpeg/#-FFmpeg.html"><strong aria-hidden="true">1.2.1.</strong> #-FFmpeg.md</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="Linux/Multimedia/01-FFmpeg/Audio/audio-01.html"><strong aria-hidden="true">1.2.1.1.</strong> audio-01.md</a></li><li class="chapter-item "><a href="Linux/Multimedia/01-FFmpeg/Image/image-01.html"><strong aria-hidden="true">1.2.1.2.</strong> image-01.md</a></li><li class="chapter-item "><a href="Linux/Multimedia/01-FFmpeg/Video/video-01.html"><strong aria-hidden="true">1.2.1.3.</strong> video-01.md</a></li><li class="chapter-item "><a href="Linux/Multimedia/01-FFmpeg/x265/x265-01.html"><strong aria-hidden="true">1.2.1.4.</strong> x265-01.md</a></li></ol></li><li class="chapter-item "><a href="Linux/Multimedia/03-Gstreamer/gstreamer-01.html"><strong aria-hidden="true">1.2.2.</strong> gstreamer-01.md</a></li><li class="chapter-item "><a href="Linux/Multimedia/05-MPV/mpv-01.html"><strong aria-hidden="true">1.2.3.</strong> mpv-01.md</a></li><li class="chapter-item "><a href="Linux/Multimedia/07-Krita/krita-01.html"><strong aria-hidden="true">1.2.4.</strong> krita-01.md</a></li></ol></li></ol></li><li class="chapter-item "><a href="PL/#-PL.html"><strong aria-hidden="true">2.</strong> #-PL.md</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="PL/Lua/#-Lua.html"><strong aria-hidden="true">2.1.</strong> #-Lua.md</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="PL/Lua/01-local/local-01.html"><strong aria-hidden="true">2.1.1.</strong> local-01.md</a></li></ol></li><li class="chapter-item "><a href="PL/Rust/#-Rust.html"><strong aria-hidden="true">2.2.</strong> #-Rust.md</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="PL/Rust/00-examples/editor-01.html"><strong aria-hidden="true">2.2.1.</strong> editor-01.md</a></li><li class="chapter-item "><a href="PL/Rust/01-let/let-01.html"><strong aria-hidden="true">2.2.2.</strong> let-01.md</a></li><li class="chapter-item "><a href="PL/Rust/02-macro/macro-01.html"><strong aria-hidden="true">2.2.3.</strong> macro-01.md</a></li><li class="chapter-item "><a href="PL/Rust/02-macro/macro-02.html"><strong aria-hidden="true">2.2.4.</strong> macro-02.md</a></li><li class="chapter-item "><a href="PL/Rust/03-enum/enum-011.html"><strong aria-hidden="true">2.2.5.</strong> enum-011.md</a></li></ol></li></ol></li><li class="chapter-item "><a href="Project/#-Project.html"><strong aria-hidden="true">3.</strong> #-Project.md</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="Project/Linguistics/#-Linguistics.html"><strong aria-hidden="true">3.1.</strong> #-Linguistics.md</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="Project/Linguistics/en_US/#-en_US.html"><strong aria-hidden="true">3.1.1.</strong> #-en_US.md</a></li><li class="chapter-item "><a href="Project/Linguistics/ja_JP/#-ja_JP.html"><strong aria-hidden="true">3.1.2.</strong> #-ja_JP.md</a></li><li class="chapter-item "><a href="Project/Linguistics/zh_CN/#-zh_CN.html"><strong aria-hidden="true">3.1.3.</strong> #-zh_CN.md</a></li></ol></li></ol></li></ol>            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu (default)</button></li>
                        </ul>
                                                <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                                            </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                                                <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                                                                        <a href="https://github.com/TK4E/tk4e.github.io" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                                                
                    </div>
                </div>

                                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <ul>
<li><a href="SUMMARY.html">SUMMARY.md</a>
<ul>
<li><a href="Linux/#-Linux.html">#-Linux.md</a>
<ul>
<li><a href="Linux/Arch/#-Arch.html">#-Arch.md</a>
<ul>
<li><a href="Linux/Arch/01-pacamn/pacman-01.html">pacman-01.md</a></li>
<li><a href="Linux/Arch/02-zsh/zsh-01.html">zsh-01.md</a></li>
<li><a href="Linux/Arch/03-nvim/nvim-01.html">nvim-01.md</a></li>
<li><a href="Linux/Arch/03-nvim/nvim-09.html">nvim-09.md</a></li>
<li><a href="Linux/Arch/04-SQLite3/sqlite3_example-00.html">sqlite3_example-00.md</a></li>
<li><a href="Linux/Arch/04-SQLite3/sqlite3_run_sql-01.html">sqlite3_run_sql-01.md</a></li>
<li><a href="Linux/Arch/05-base/Linux-01.html">Linux-01.md</a></li>
<li><a href="Linux/Arch/05-base/cut-01.html">cut-01.md</a></li>
<li><a href="Linux/Arch/05-base/find-01.html">find-01.md</a></li>
<li><a href="Linux/Arch/05-base/ls-01.html">ls-01.md</a></li>
<li><a href="Linux/Arch/05-base/read-01.html">read-01.md</a></li>
<li><a href="Linux/Arch/05-base/rm-01.html">rm-01.md</a></li>
<li><a href="Linux/Arch/05-base/tail-01.html">tail-01.md</a></li>
<li><a href="Linux/Arch/05-base/uniq-01.html">uniq-01.md</a></li>
<li><a href="Linux/Arch/06-tar/tar-01.html">tar-01.md</a></li>
<li><a href="Linux/Arch/08-Wine/wine-01.html">wine-01.md</a></li>
<li><a href="Linux/Arch/09-git/git-01.html">git-01.md</a></li>
<li><a href="Linux/Arch/21-XFS/xfs-01.html">xfs-01.md</a></li>
<li><a href="Linux/Arch/98-unrar/unrar-01.html">unrar-01.md</a></li>
</ul>
</li>
<li><a href="Linux/Multimedia/#-Multimedia.html">#-Multimedia.md</a>
<ul>
<li><a href="Linux/Multimedia/01-FFmpeg/#-FFmpeg.html">#-FFmpeg.md</a>
<ul>
<li><a href="Linux/Multimedia/01-FFmpeg/Audio/audio-01.html">audio-01.md</a></li>
<li><a href="Linux/Multimedia/01-FFmpeg/Image/image-01.html">image-01.md</a></li>
<li><a href="Linux/Multimedia/01-FFmpeg/Video/video-01.html">video-01.md</a></li>
<li><a href="Linux/Multimedia/01-FFmpeg/x265/x265-01.html">x265-01.md</a></li>
</ul>
</li>
<li><a href="Linux/Multimedia/03-Gstreamer/gstreamer-01.html">gstreamer-01.md</a></li>
<li><a href="Linux/Multimedia/05-MPV/mpv-01.html">mpv-01.md</a></li>
<li><a href="Linux/Multimedia/07-Krita/krita-01.html">krita-01.md</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="PL/#-PL.html">#-PL.md</a>
<ul>
<li><a href="PL/Lua/#-Lua.html">#-Lua.md</a>
<ul>
<li><a href="PL/Lua/01-local/local-01.html">local-01.md</a></li>
</ul>
</li>
<li><a href="PL/Rust/#-Rust.html">#-Rust.md</a>
<ul>
<li><a href="PL/Rust/00-examples/editor-01.html">editor-01.md</a></li>
<li><a href="PL/Rust/01-let/let-01.html">let-01.md</a></li>
<li><a href="PL/Rust/02-macro/macro-01.html">macro-01.md</a></li>
<li><a href="PL/Rust/02-macro/macro-02.html">macro-02.md</a></li>
<li><a href="PL/Rust/03-enum/enum-011.html">enum-011.md</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="Project/#-Project.html">#-Project.md</a>
<ul>
<li><a href="Project/Linguistics/#-Linguistics.html">#-Linguistics.md</a>
<ul>
<li><a href="Project/Linguistics/en_US/#-en_US.html">#-en_US.md</a></li>
<li><a href="Project/Linguistics/ja_JP/#-ja_JP.html">#-ja_JP.md</a></li>
<li><a href="Project/Linguistics/zh_CN/#-zh_CN.html">#-zh_CN.md</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="SUMMARY.html">SUMMARY.md</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><div style="break-before: page; page-break-before: always;"></div><div style="break-before: page; page-break-before: always;"></div><h1 id="pacman"><a class="header" href="#pacman">pacman</a></h1>
<pre><code class="language-sh">pacman -Syu
    # 更新所有包


pacman -Qlq  neovim | grep /usr/bin
    # 查看某个包所包含的命令


pacman -Ss xxx
    # 搜索 xxx
</code></pre>
<h2 id="error"><a class="header" href="#error">Error</a></h2>
<pre><code class="language-sh"># unable to lock database
rm /var/lib/pacman/db.lck



</code></pre>
<h2 id="makepkg"><a class="header" href="#makepkg">makepkg</a></h2>
<pre><code class="language-sh">pacman -S kernel26-headers file base-devel abs
makepkg -Acs
pacman -U xxx.pkg.tar.zst

</code></pre>
<pre class="mermaid">graph TD;
    A--&gt;B;
    A--&gt;C;
    B--&gt;D;
    C--&gt;D;
</pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="zsh"><a class="header" href="#zsh">zsh</a></h1>
<div style="break-before: page; page-break-before: always;"></div><div style="break-before: page; page-break-before: always;"></div><pre><code class="language-vim"># 交换字符位置
## 处理前
abcd


:%s/(a)(.*)(c)(d)/\1\2\4\3\/g
    # 每个 () 表示一组



## 处理后
abdc

</code></pre>
<div style="break-before: page; page-break-before: always;"></div><pre><code class="language-sh">sqlite3 'from_this_db.db' '.dump' | sqlite3 -batch 'to_this_db.db'
    # 合并db


sqlite3 'a.db' '.dump' | sqlite3 -batch 'aa.db'
    # 合并db


sqlite3 in.db .dump &gt; in.sql
    # .db to .sql


sqlite3 in.db &lt; in.sql
    # .sql to .db


sqlite3 -csv anime.db &quot;.import anime.csv table1&quot;
    # .csv to .db


sqlite3 -separator ',' anime.db '.import new.csv &quot;1917-2018&quot;'
    # .csv to .db
    # 把 anime.csv 导入到 anime.db 中的表 1917-2018


sqlite3 en.db 'VACUUM;'
    # 压缩db
    # 压缩 en.db 的体积


sqlite3 -header -csv Animes.db 'select * from &quot;1917-2018&quot;;' &gt; animes.csv
    # .db to .csv
    # 表名放在双引号内




```sqlite
sqlite&gt; .database
    # 查看加载了的数据库


sqlite&gt; ATTACH DATABASE 'in.db' as 'IN';
    # 将 in.db 附加到 IN (可理解为创建副本)


sqlite&gt; attach database 'in.db' as 'IN';
    # 上下等价(sql 不区分大小写)


sqlite&gt; DETACH DATABASE 'IN';
    # 从数 .db 中分离 IN


sqlite&gt; DROP TABLE TEST;
    # 删除表 TEST


sqlite&gt; INSERT INTO COM VALUES (7, 'James', 24, 'Houston', 10000.00 );
    # 为表 COM 创建记录


sqlite&gt; .schema
    # 查看现有的表的信息


sqlite&gt; .tables
    # 查看现有的表


sqlite&gt; SELECT * FROM COM;
    # 从表 COM 中获取 * (全部的)记录/内容


sqlite&gt; SELECT A,B FROM COM;
    # 从表 COM 中获取 A,B (A和B字段) 的记录


sqlite&gt; select 10+2;
    # 计算 10+2


sqlite&gt; SELECT * FROM COM WHERE A &gt; 500 OR B != 700;
    # 从表 COM 中获取 * (全部的)记录/内容
    # 然后 筛选出 A 字段下的 值大于500 的内容
    # 或者 筛选出 B 字段下的 值不是700 的内容(仅当 A &gt; 500 不成立时才会执行这句)


sqlite&gt; SELECT * FROM COM WHERE A IS NOT NULL;
    # 从表 COM 中获取 * (全部的)记录/内容
    # 然后 筛选出 A 字段下的 值不是NULL (不为空)的内容


sqlite&gt; SELECT * FROM COM WHERE A GLOB 'R*';
    # 从表 COM 中获取 * (全部的)记录/内容
    # 然后 筛选出 A 字段下的 以R开头 的内容


sqlite&gt; SELECT * FROM COM WHERE A (25, 27);
    # 从表 COM 中获取 * (全部的)记录/内容
    # 然后 筛选出 A 字段下的 值为25或27 的内容


sqlite&gt; UPDATE anime SET 'year'='TV' WHERE year GLOB 'T*';
    # 从表 anime 中将 year字段下的所以内容改为TV
    # 但只对 year字段下以T开头值生效(这里用 WHERE 做了限制  以防止误操作)


sqlite&gt; alter table &quot;tableName&quot; add &quot;columnName&quot; char;
    # 增加列


sqlite&gt; alter table tableName alter column columnName varchar(4000);
    # 修改列类型


sqlite&gt; alter table tableName drop column columnName;
    # 删除列


sqlite&gt; ALTER TABLE Anime RENAME TO ID;
    # 修改表名名称
    # 将表名 Anime 修改为 ID


sqlite&gt; ALTER TABLE Anime RENAME COLUMN two TO new;
    # 修改列名
    # 将表 Anime 中的列名 two 修改为 new



</code></pre>
<div style="break-before: page; page-break-before: always;"></div><pre><code class="language-sh">sqlite3 in.db
sqlite&gt; .read in.sql
    # 运行 .sql


sqlite3 in.db &lt; in.sql
    # 运行 .sql


cat in.csv | sqlite3 in.db
    # 运行 .sql

</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="linux"><a class="header" href="#linux">Linux</a></h1>
<blockquote>
<p>linux 中
文件名最长为 255个字符
文件路径最大长度为 4096个字符</p>
</blockquote>
<h2 id="log"><a class="header" href="#log">log</a></h2>
<pre><code class="language-sh">/var/log/cron
    # 记录crond计划任务产生的事件信息

/var/log/dmesg
    # 记录Linux系统在引导过程中的各种事件信息

/var/log/maillog
    # 记录进入或发出系统的电子邮件活动

/var/log/lastlog
    # 记录每个用户最近的登录时间

/var/log/secure
    # 记录用户认证相关的安全事件信息

/var/log/wtmp
    # 记录每个用户登录  注销及系统启动和停机事件

/var/log/btmp
    # 记录失败的  错误的登录尝试及验证事件

</code></pre>
<h2 id="cache"><a class="header" href="#cache">Cache</a></h2>
<pre><code class="language-sh">echo 3 &gt; /proc/sys/vm/drop_caches
    # 会清理系统的cache

1
  - free pagecache
2
  - free dentries and inodes
3
  - free pagecache, dentries and inodes

</code></pre>
<h2 id="时间钟"><a class="header" href="#时间钟">时间钟</a></h2>
<pre><code>进程的三种状态为 阻塞 就绪 运行

时钟时间 = 阻塞时间 + 就绪时间 + 运行时间
用户CPU时间 = 运行状态下用户空间的时间
系统CPU

</code></pre>
<div style="break-before: page; page-break-before: always;"></div><div style="break-before: page; page-break-before: always;"></div><div style="break-before: page; page-break-before: always;"></div><div style="break-before: page; page-break-before: always;"></div><div style="break-before: page; page-break-before: always;"></div><div style="break-before: page; page-break-before: always;"></div><div style="break-before: page; page-break-before: always;"></div><div style="break-before: page; page-break-before: always;"></div><h1 id="tar"><a class="header" href="#tar">tar</a></h1>
<pre><code class="language-sh">tar --totals -acf xxx.yyy xxx
    # 将 xxx 打包压缩为 yyy 格式
    --totals : 显示压缩时的进度条


tar -xvf xxx.tar.zst
    # 解压 zst 格式


tar xxx.zst | tar -xvf
    # 解压 zst 格式


tar -tf in.tar
    # 列出所包含的文件


find . -name '*.mkv' | tar -cvjf my.tar --files-from -
    # 批量提取指定文件


pv in.tar.zst |
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><pre><code class="language-sh">winetricks d3dx9* msxml3 msxml4 vcrun2003 quartz devenum corefonts lucida tahoma

</code></pre>
<pre><code class="language-sh"># 关掉 WINEDEBUG

WINEDEBUG=-all game.exe

</code></pre>
<pre><code class="language-sh"># 32位

某些游戏只支持 32位
倘若出现打不开游戏的情况
可以尝试下使用 32位 的 wine


win32() {
    WINEARCH=win32 WINEPREFIX=$XDG_DATA_HOME/win32 \
        \wine $1 -force-d3d9
}

</code></pre>
<div style="break-before: page; page-break-before: always;"></div><div style="break-before: page; page-break-before: always;"></div><pre><code class="language-sh">mkfs.xfs -m bigtime=1 /dev/sda
    # 启用 bigtime 支持  解决千年虫问题

</code></pre>
<div style="break-before: page; page-break-before: always;"></div><p>unrar -ppasswd x *.rar
# -p 和你的密码是连起来写的</p>
<div style="break-before: page; page-break-before: always;"></div><div style="break-before: page; page-break-before: always;"></div><div style="break-before: page; page-break-before: always;"></div><pre><code class="language-sh">-b:a &lt;&gt;
    # 静态/动态比特率 (具体情况取决于所用音频编码器的设置)
-c:a libopus
    # 使用 libopus 编码器  ( libopus 默认使用动态比特率)
-af &quot;channelmap=channel_layout=5.1&quot; -mapping_family 1
    # 处理 5.1杜比 的音频(针对 libopus   一次只能处理一条音轨)
-aframes number (output)
    # 设置录制音频帧的个数这是 -frames:a 的别名
-ar[:stream_specifier] freq (input/output,per-stream)
    # 设置音频采样率
-aq q (output)
    # 设置音频质量这是 -q:a 的别名
-ac[:stream_specifier] channels (input/output,per-stream)
    # 设置音频通道数
-an (output)
    # 禁止音频录制
-acodec codec (input/output)
    # 设置音频codec这是-c:a的别名
-sample_fmt[:stream_specifier] sample_fmt (output,per-stream)
    # 设置音频采样格式
-af filtergraph (output)
    # 创建filtergraph 所指定的过滤图  并使用它来过滤流




# 拆分音频
らびりんず - 夢路らびりんす.log

     Track |   Start  |  Length  | Start sector | End sector
    ---------------------------------------------------------
        1  |  0:00.00 |  4:03.02 |         0    |    18226
        2  |  4:03.02 |  4:17.59 |     18227    |    37560
        3  |  8:20.61 |  4:02.19 |     37561    |    55729
        4  | 12:23.05 |  4:02.34 |     55730    |    73913
        5  | 16:25.39 |  4:02.26 |     73914    |    92089
        6  | 20:27.65 |  4:03.21 |     92090    |   110335
        7  | 24:31.11 |  4:02.25 |    110336    |   128510
        8  | 28:33.36 |  4:16.18 |    128511    |   147728


ffmpeg -i i.wav -segment_times \
00:04:03.02,\
00:08:20.61,\
00:12:23.05,\
00:16:25.39,\
00:20:27.65,\
00:24:31.11,\
00:28:33.36 \
-c copy -f segment %03d.wav
    # 开头和结尾时间不需要写
    # 00: 表示小时  如果流的时长不足一小时可省略
    # 例  如果流的时长为 72分钟 则须写成 01:12:00   其他同理



    # 最近发生一件怪事  这样切割的文件多出了一段无效的部分 (切成其他格式依旧如此)
    # 于是在切割之前先把他们转为 ts 格式  之后再去分割  最后再转换一遍格式

ffmpeg -i i.flac -c:a libopus -b:a 96k -map 0:0 o.ts

ffmpeg -i o.ts -segment_times \
00:04:03.02,\
00:08:20.61,\
00:12:23.05,\
00:16:25.39,\
00:20:27.65,\
00:24:31.11,\
00:28:33.36 \
-c copy -f segment %03d.ts

for f in * ;do ffmpeg -i &quot;$f&quot; -c copy &quot;${f%.*}.opus&quot;;done

    # 在这之前我也对之前成功分割的文件进行了测试  结果还是失败
    # 可能 ffmpeg 出了啥问题吧
    # 好像又是opus的问题
    # 算了  以后再管
    # 在命令里添加 -reset_timestamps 1 就可以了


ffmpeg -i i.wav \
-map 0:a -segment_times \
00:04:03.02,\
00:08:20.61,\
00:12:23.05,\
00:16:25.39,\
00:20:27.65,\
00:24:31.11,\
00:28:33.36 \
-reset_timestamps 1 \
-c:a libopus -b:a 96k -f segment %03d.opus




ffmpeg -i in.flac -af lowpass=3000,highpass=200 -c copy ou.flac
    # 指定 音频Hz范围 截取某段音频  人声频率范围介于300Hz-3000Hz之间


ffmpeg -lavfi showspectrumpic=s=1920x1080 -i in.flac ou.jpg
    # 音频分贝图


for f in *; do ffmpeg -i $f -c:a libopus -b:a 96k ${f%.*}.opus; done
    # 批量处理


find */*flac -type f -print0 | parallel -0 --load 90 --retries 3 ffmpeg -i {} -c:a libopus -b:a 96k  {.}.opus &amp;
    # 批量处理  针对子目录下的文件


for f in ./*; do ffmpeg -i &quot;$f&quot; -b:a &quot;$1&quot;k -c:a &quot;$2&quot; ./m/&quot;${f%.*}.&quot;$2&quot;&quot;; done
    # 压缩音频


ffmpeg -i input.aac -i input.mkv ou.mkv
    # 合并音频与视频流


# 拆分音频
ffmpeg -i in.wav -segment_times \
02:03.33,\
03:36.70,\
05:41.44,\
52:10.75 \
-c copy -map 0 -f segment -reset_timestamps 1 %03d.wav


# 保留所有视频流和第三个音频流  序号从 0 开始
for f in *; do ffmpeg -y -i &quot;$f&quot; -c:v copy -c:a libopus -b:a 82k -map 0:v -map 0:m:language:jpn ./0/&quot;${f%.*}_v0.mkv&quot;; done
for f in *; do ffmpeg -y -i &quot;$f&quot; -c:v copy -c:a libopus -b:a 82k -map 0:v -map 0:a:0 ./0/&quot;${f%.*}_v0.mkv&quot;; done
for f in *; do ffmpeg -y -i &quot;$f&quot; -c:v copy -c:a libopus -b:a 82k -map 0:0 -map 0:1 ./0/&quot;${f%.*}_v0.mkv&quot;; done
for f in *; do ffmpeg -y -i &quot;$f&quot; -c:v copy -c:a libopus -b:a 82k -map 0:0 -map 0:2 ./0/&quot;${f%.*}_v0.mkv&quot;; done


find */*flac  -type f -print0 | parallel -0 --load 90 --retries 3 ffmpeg -i {} -c:a libopus -b:a 96k {.}.opus &amp;
    # 并行批量转换格式为 opus


</code></pre>
<div style="break-before: page; page-break-before: always;"></div><pre><code class="language-sh">ffmpeg -f image2 -r 1 -i ./%4d.jpg -r 1 -pix_fmt yuv420p10le -c:v libx265 ou.mkv
    # 把图片合成为视频
  # %4d.jpg  格式为 00001.jpg 00002.jpg 的文件
  # -pix_fmt yuv420p10le  设置视频色深为10bit
  # -c:v libx265  使用 x265编码器


ffmpeg -f image2 -pattern_type glob -framerate 1 -i 'foo-*.jpeg' ou.mkv
    # 在 shell 里也可以这样


ffmpeg -i in.png -vf smartblur=1:1:0 -y ou.png
    # 对付漫画扫图所造成的网纹(模糊图像)


ffmpeg -i ia.jpg -i ib.jpg -filter_complex vstack oab.jpg
    # 纵向(上下) 拼接图片


ffmpeg -i ia.jpg -i ib.jpg -filter_complex hstack oab.jpg
    # 横向(左右) 拼接图片


ffmpeg -r 1 -f image2 -i 00000%3d.jpg -crf 21 -c:v libx265 -pix_fmt yuv420p10le -vf &quot;scale=trunc(iw/2)*2:trunc(ih/2)*2&quot; t.mkv
    # 图片转视频


ffmpeg -loop 1 -i OchiColorTest_v2.png -c:v libx264 -colorspace bt709 -color_trc bt709 -to 0:10 output.mp4
    # 色彩空间转换


for f in *gif;do ffmpeg -f gif -i &quot;$f&quot; -c:v libx264 -crf 21 -pix_fmt yuv420p -vf &quot;scale=trunc(iw/2)*2:trunc(ih/2)*2&quot; &quot;${f%.*}&quot;.mkv;done
    # gif to mkv


for f in *jpg ;do ffmpeg -i &quot;$f&quot; -vf &quot;crop=iw/2:ih:0:0&quot; &quot;${f%}_1.jpeg&quot; -i &quot;$f&quot; -vf &quot;crop=iw/2:ih:iw/2:0&quot; &quot;${f%}_2.jpeg&quot;;done
    # 左右分割图片
    # iw/2 是指 把输入文件的宽度除2
    # ih 是指 高


ffmpeg -i in.png -s 1245x1786 ou.png
    # 压缩 in.png 的图片尺寸为 1245x1786
    # 注意 这不是通过裁剪的方式处理  而是压缩尺寸
    # 裁剪图片可参考 https://video.stackexchange.com/questions/4563/how-can-i-crop-a-video-with-ffmpeg


ffmpeg -i 1.jpg -i 2.jpg \
-filter_complex &quot;blend=all_mode=difference&quot; ou.jpg
    # 比较图片
    # 需要图片尺寸一样


for f in *; do cd $f; ffmpeg -r 1 -f image2 -pattern_type glob -i '*.jpg' -vf &quot;scale=trunc(iw/2)*2:trunc(ih/2)*2&quot; -crf 21 -c:v libx265 -pix_fmt yuv420p10le $f.mkv; cd ..; done
    # -pattern_type glob 的语法 [] 会因为文件名受到影响  遂使用 cd 来处理


</code></pre>
<hr />
<h2 id="plotframes-分析视频比特率并输出为-svg-"><a class="header" href="#plotframes-分析视频比特率并输出为-svg-">plotframes (分析视频比特率并输出为 svg )</a></h2>
<pre><code class="language-sh">pacman -Sy gnuplot perl-json
curl -OLJ https://raw.githubusercontent.com/FFmpeg/FFmpeg/master/tools/plotframes &amp;&amp; chmod +x plotframes
./plotframes -t svg -o output.svg -i input.mkv
ffmpeg --input input.mp4 -map &quot;0:v:0&quot; -codec:v &quot;copy&quot; -frames:v 900 -f &quot;mp4&quot; -movflags &quot;faststart&quot; temp.mp4
plotframes --input temp.mp4 --stream &quot;v:0&quot; --terminal &quot;svg&quot; --output prettygraph.svg
    # 绘制前900帧

</code></pre>
<div style="break-before: page; page-break-before: always;"></div><pre><code class="language-sh">-crf &lt;1..51&gt;
    # 动态比特率(我通常用 [16-18] 或 [21-28])
    # 如果你有两个体积不同(1G 与 7G) 但内容相同的视频
      # 在你使用相同的 -crf 后  压制出来的两个文件体积很可能相差无几
      # 所以千万不要因为视频体积大就贸然的使用过大的 -crf 值
-b:v &lt;&gt;
    # 静态比特率(除特殊情况外不使用)
-c:v libx265
    # 使用 x265 编码器
-pix_fmt yuv420p10le
    # 10bit色彩深(值越大支持的颜色就越多  当然体积也越大)  (x265 下通常用 10bit 因为这个在压缩率方面特别优化过  且支持的色彩一般够用)
-vframes number (output)
    # 设置录制视频帧的个数这是 -frames:v 的别名
-r[:stream_specifier] fps (input/output,per-stream)
    # 设置帧率(Hz 值   分数或缩写)
-s[:stream_specifier] size (input/output,per-stream)
    # 设置帧大小格式为 wxh (默认与源相同)
-aspect[:stream_specifier] aspect (output,per-stream)
    # 设置视频显示长宽比
-vn (output)
    # 忽略视频流
-vcodec codec (output)
    # 设置视频 codec这是 -c:v 的别名
-pass[:stream_specifier] n (output,per-stream)
    # 选择pass number (1 or 2)用来进行双行程视频编码。
-passlogfile[:stream_specifier] prefix (output,per-stream)
    # 设置 two-pass 日志文件名前缀  默认为&quot;ffmpeg2pass&quot;
-vf filtergraph (output)
    # 创建 filtergraph 指定的过滤图  并使用它来过滤流
-pix_fmt[:stream_specifier] format (input/output,per-stream)
    # 设置像素格式
-sws_flags flags (input/output)
    # 设置软缩放标志
-vdt n
    # 丢弃阈值
-psnr
    # 计算压缩帧的 PSNR
-vstats
    # 复制视频编码统计信息到vstats_HHMMSS.log
-vstats_file file
    # 复制视频编码统计信息到 file
-force_key_frames[:stream_specifier] time[,time...] (output,per-stream)
-force_key_frames[:stream_specifier] expr:expr (output,per-stream)
    # 在指定的时间戳强制关键帧
-copyinkf[:stream_specifier] (output,per-stream)
    # 当进行流拷贝时  同时拷贝开头的非关键帧
-hwaccel[:stream_specifier] hwaccel (input,per-stream)
    # 使用硬件加速来解码匹配的流
-hwaccel_device[:stream_specifier] hwaccel_device (input,per-stream)
    # 选择硬件加速所使用的设备该选项只有-hwaccel同时指定时才有意义。




ABR
    # 平均码率(基本不用)

CBR
    # 静态码率(基本不用)

VBR
    # 动态码率(推荐使用)
    -qmin 900k -qmax 1800k -qdiff 5000k

VBV
    # 约束码率(我喜欢用)
    -crf 24 -maxrate 10000k -bufsize 10000k
      # -crf 决定下限  -maxrate 决定上限(在 约束 前加个 尽量 可能表达的更正确)
        # 不是太懂 -bufsize 这玩意  当他对于 3*maxrate 时  视频欠码(明显)  当等于 5*maxrate 时  貌似没有欠码  但如果等于 1*maxrate 视频没有欠码(日本动画)
        # 看了 wiki 后感觉这个功能是  把多个帧放到一个盒子里  以给其他功能做参考  而盒子的大小(能放多少帧) 则取决于 值 的大小(好像有些问题)
        # 播放视频视频时好像 必须先填充满缓冲区 才可以播放  不然就要等待缓冲(经常见到的小圆圈)
        # 而缓冲区的大小又和解码时 CPU/GPU 的压力大小成正比  但缓冲区过大  硬件的压力过高  为缓解压力  解码时丢帧

VFR
    # 动态帧率(基本不用)
    -vsync 2

2-Pass
    # 利用第一次编码视频生成的数据为参考进行2次编码  非常耗时
    # 也许只对高画质视频有好处  低画质视频不建议用





ffmpeg -i &quot;concat:1x11.ts|ts/1x11-2.ts&quot; -c copy 1x11.mkv
    # 拼接视频文件


ffmpeg -i in.mp4 -vf &quot;setpts=1.25*PTS&quot; -fps 30 -r 23.97 ou.mp4
    # 输出 帧率为 23.97 的视频
  # -fps 30  以每秒最多可编码30帧
  # -r 23.97  设置输出的视频帧率为 23.97



ffmpeg -i 02.mkv -i 02.opus -c copy -map 0 -map 1 -y 002.mkv
    # 合并音频与视频


ffmpeg -ss 10 -t 15 -i in.mkv -c copy -strict experimental ou.mkv
    # 精准切割时间戳


ffmpeg -i in.m3u8 -c copy ou.ts
    # 下载 m3u8 的视频


ffmpeg -i &quot;concat:1.ts|2.ts|3.ts&quot; -c copy n.ts
    # 将文件 1 2 3 合并为 n.ts
  # -c copy 直接复制流 (音频与视频)
  # -c:v 只复制视频流
  # -c:a 只复制音频流


ffmpeg -i v.mkv -i a.wav \
-map 0 -map 1:a \
-c copy -shortest n.ts
    # 合并视频流与音频流


ffmpeg -i &quot;1.ts&quot; \
-map 0:0 \
-map 0:2 \
-map 0:1 \
-c copy n.ts
    # 调换 流0:2 与 流0:1 的顺序  流0:0 保持不变


ffmpeg -ss 00:00:20 -to 00:00:30 -i 1.mkv -c copy n.ts
    # 精准切割(耗时)
  # -ss
  # 启始位置  00:00:00.000 (default)
  # hh:mm:ss.xxx 时:分:秒.xxx
  # -t 持续时长 格式同上
  # -to 结束位置 同上
  # 使用 -ss xxx -to xxx 的组合容易操作
  # -t 与 -to 互斥  不要同时使用


ffmpeg -i 1.mkv -ss 00:00:20 -to 00:00:30 -c copy n.ts
    # 非精准切割(省时)
    # 两者之间的不同在于 -i 的位置



</code></pre>
<div style="break-before: page; page-break-before: always;"></div><pre><code class="language-sh"># presets               0    1    2    3    4    5    6    7    8    9     mine
# -----------------------------------------------------------------------------------------------------
# ctu                  32   32   64   64   64   64   64   64   64   64    64  gives overall best pic at smaller size
# min-cu-size          16    8    8    8    8    8    8    8    8    8     8
# bframes               3    3    4    4    4    4    4    8    8    8     8
# b-adapt               0    0    0    0    0    2    2    2    2    2     2  trellis of corse
# rc-lookahead          5   10   15   15   15   20   25   40   40   60    45
# lookahead-slices      8    8    8    8    8    8    4    1    1    1     0  never use higher
# scenecut              0   40   40   40   40   40   40   40   40   40    40
# ref                   1    1    2    2    3    3    4    5    5    5     5
# limit-refs            0    0    3    3    3    3    3    1    0    0     0  limit-refs for lower quality...
# me                    0    1    1    1    1    1    3    3    3    3     3  be a star
# merange              57   57   57   57   57   57   57   57   57   92    58  because hex's are bad
# subme                 0    1    1    2    2    2    3    4    4    5     4
# rect                  0    0    0    0    0    0    1    1    1    1     1  best with amp
# amp                   0    0    0    0    0    0    0    1    1    1     1  needs rect
# limit-modes           0    0    0    0    0    0    1    1    0    0     0  no limit here
# max-merge             2    2    2    2    2    2    3    4    5    5     5
# early-skip            1    1    1    1    0    1    0    0    0    0     0  meh, why? for lower quality guessing...
# recursion-skip        1    1    1    1    1    1    1    1    1    0     2
# fast-intra            1    1    1    1    1    0    0    0    0    0     0  (1=lowers detail)
# b-intra               0    0    0    0    0    0    0    1    1    1     1
# sao                   0    0    1    1    1    1    1    1    1    1     0  why? (gives nice blended picture for loss of detail)
# signhide              0    1    1    1    1    1    1    1    1    1     1
# weightp               0    0    1    1    1    1    1    1    1    1     1
# weightb               0    0    0    0    0    0    0    1    1    1     1
# aq-mode               0    0    2    2    2    2    2    2    2    2     hevc-aq   ((hevc-aq+no-cutree=best))
# cuTree                1    1    1    1    1    1    1    1    1    1     0  loss of detail with cutree low res search
# rdLevel               2    2    2    2    2    3    4    6    6    6     6  --rd on documentation.
# rdoq-level            0    0    0    0    0    0    2    2    2    2     1  allows psy-rdoq to be effective
# tu-intra              1    1    1    1    1    1    1    3    3    4     4  tiny better. (no speed difference then 3)
# tu-inter              1    1    1    1    1    1    1    3    3    4     4  tiny better. (no speed difference then 3)
# limit-tu              0    0    0    0    0    0    0    4    0    0     3  for speed... (3 is sometimes better pic then 0)
# -----------------------------------------------------------------------------------------------------
# presets               0    1    2    3    4    5    6    7    8    9     mine
#
# 1.ultrafast
# 2.superfast
# 3.veryfast
# 4.faster
# 5,fast
# 6.medium (default)
# 7.slow
# 8.slower
# 9.veryslow

</code></pre>
<table><thead><tr><th>Encoder</th><th>Param</th><th>Qmin</th><th>Qmax</th><th>Qdef</th><th>Recommended</th><th>Notes</th></tr></thead><tbody>
<tr><td>libx264</td><td>-crf</td><td>51</td><td>0</td><td>23</td><td>18–2</td><td>Values of +- 6 result in double/half avg. bitrate. 0 is lossless.</td></tr>
<tr><td>libx265</td><td>-crf</td><td>51</td><td>0</td><td>28</td><td>24–3</td><td>Values of +- 6 result in double/half avg. bitrate. 0 is lossless.</td></tr>
<tr><td>libopus</td><td>-b:a</td><td>6–(mono)</td><td>-</td><td>96K (for stereo)</td><td>-</td><td>-vbr on is default, -b:a just sets the target.</td></tr>
</tbody></table>
<p>-crf [1-51]  1-21=hith  22-51=low  offen=18-21</p>
<pre><code>H.265 8bit  CRF 22 (slow) &gt; 362.6 Mb
H.265 10bit CRF 22 (slow) &gt; 385.2 Mb
H.265 12bit CRF 22 (slow) &gt; 390.7 Mb
H.265 8bit  CRF 20 (slow) &gt; 470.2 Mb
H.265 10bit CRF 20 (slow) &gt; 509.9 Mb
H.265 12bit CRF 20 (slow) &gt; 518.9 Mb
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h2 id="install"><a class="header" href="#install">install</a></h2>
<pre><code class="language-sh">pacman -S --needed gst-plugins-{bad,base,good,ugly} gst-libav
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><div style="break-before: page; page-break-before: always;"></div><h1 id="krita"><a class="header" href="#krita">Krita</a></h1>
<h4 id="去网格"><a class="header" href="#去网格">去网格</a></h4>
<pre><code>1. 放大缩小法

2. 模糊法



</code></pre>
<div style="break-before: page; page-break-before: always;"></div><div style="break-before: page; page-break-before: always;"></div><div style="break-before: page; page-break-before: always;"></div><div style="break-before: page; page-break-before: always;"></div><p>wdawdaw</p>
<div style="break-before: page; page-break-before: always;"></div><pre><pre class="playground"><code class="language-rust editable">use std::{
    env::{temp_dir, var},
    fs::File,
    io::Read,
    process::Command,
};

fn main() {
    let editor = var(&quot;EDITOR&quot;).unwrap();
    let mut file_path = temp_dir();
    file_path.push(&quot;editable&quot;);
    File::create(&amp;file_path).expect(&quot;Could not create file&quot;);

    Command::new(editor)
        .arg(&amp;file_path)
        .status()
        .expect(&quot;Something went wrong&quot;);

    let mut editable = String::new();
    File::open(file_path)
        .expect(&quot;Could not open file&quot;)
        .read_to_string(&amp;mut editable);

    println!(&quot;File content:\n{}&quot;, editable);
}

</code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="let"><a class="header" href="#let">let</a></h1>
<pre><pre class="playground"><code class="language-rust">fn main()
{
    let a = 1;
    let b:u8 = 2;
    let c = -3_i8;

}
</code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><pre><pre class="playground"><code class="language-rust">fn main() {
    let a = 1;
    macro_rules! test {
        ($x: block $(, $o: expr)*) =&gt; {
            println!(&quot;{} &amp;&amp; {} &quot;, $x, $($o)*);
        };
    }

    let a = 9;
    test!(
        {
            let q = 0;
            q + 1
        },
        a
    );
}

</code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><pre><pre class="playground"><code class="language-rust">macro_rules! prr {
    () =&gt; {
        println!(&quot;()&quot;)
    };

    ($($arg:expr)*) =&gt; {
        println!(&quot;{}&quot;, ($($arg)*) );
    };
    ($($arg:tt)*) =&gt; {
        println!(&quot;{:?}&quot;, ($($arg)*) );
    };
}

fn main() {
    prr!({
        let a = 9;
        a
    });

    let a = 0.9;
    prr!(a, 9, 12, 97);
}


</code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><pre><pre class="playground"><code class="language-rust">#[derive(Debug)]
enum Something {
    A { size: u32, name: String },
    B { size: u32, switch: bool },
}

impl Something {
    fn size(&amp;self) -&gt; u32 {
        match self {
            Something::A { size, .. } =&gt; *size,
            Something::B { size, .. } =&gt; *size,
        }
    }

    fn name(&amp;self) -&gt; &amp;String {
        match self {
            Something::A { name, .. } =&gt; name,
            Something::B { .. } =&gt; panic!(&quot;Something::B doesn't have name field&quot;),
        }
    }

    fn switch(&amp;self) -&gt; bool {
        match self {
            Something::A { .. } =&gt; panic!(&quot;Something::A doesn't have switch field&quot;),
            Something::B { switch, .. } =&gt; *switch,
        }
    }

    fn new_size(&amp;self, size: u32) -&gt; Something {
        match self {
            Something::A { name, .. } =&gt; Something::A {
                size,
                name: name.clone(),
            },
            Something::B { switch, .. } =&gt; Something::B {
                size,
                switch: *switch,
            },
        }
    }

    // etc...
}

fn main() {
    let a = Something::A {
        size: 1,
        name: &quot;Rust is not haskell&quot;.to_string(),
    };
    println!(&quot;{:?}&quot;, a.size());
    println!(&quot;{:?}&quot;, a.name());

    let b = Something::B {
        size: 1,
        switch: true,
    };
    println!(&quot;{:?}&quot;, b.switch());

    let aa = a.new_size(2);
    println!(&quot;{:?}&quot;, aa);
}

</code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><div style="break-before: page; page-break-before: always;"></div><div style="break-before: page; page-break-before: always;"></div><div style="break-before: page; page-break-before: always;"></div><div style="break-before: page; page-break-before: always;"></div>
                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                        
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                            </nav>

        </div>

                <!-- Livereload script (if served using the cli tool) -->
        <script type="text/javascript">
            var socket = new WebSocket("ws://localhost:3000/__livereload");
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>
        
        
                <script type="text/javascript">
            window.playground_line_numbers = true;
        </script>
        
                <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        
                <script src="ace.js" type="text/javascript" charset="utf-8"></script>
        <script src="editor.js" type="text/javascript" charset="utf-8"></script>
        <script src="mode-rust.js" type="text/javascript" charset="utf-8"></script>
        <script src="theme-dawn.js" type="text/javascript" charset="utf-8"></script>
        <script src="theme-tomorrow_night.js" type="text/javascript" charset="utf-8"></script>
        
                <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
                <script type="text/javascript" src="js/mermaid.min.js"></script>
                <script type="text/javascript" src="js/mermaid-init.js"></script>
        
                        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
                
    </body>
</html>
